{
  "tasks": [
    {
      "id": "4dd5fde5-196c-45af-9ab0-fc3a9b9f5409",
      "name": "Initialisation du projet et configuration de base",
      "description": "Projet Next.js/TypeScript initialisé, repo prêt, dépendances principales installées (Next.js, Tailwind, Supabase, Shadcn UI, etc.), linter et formatteur configurés.",
      "notes": "Déjà réalisé.",
      "status": "pending",
      "dependencies": [],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "package.json",
          "type": "REFERENCE",
          "description": "Fichier de configuration des dépendances du projet."
        }
      ],
      "implementationGuide": "Créer le projet Next.js, installer les dépendances, configurer Tailwind, ESLint, Prettier, initialiser le repo Git.",
      "verificationCriteria": "Le projet démarre, les dépendances sont installées, le linter fonctionne."
    },
    {
      "id": "0d3b3238-221c-4d87-85d7-b54662eae03f",
      "name": "Mise en place du provider Supabase et synchronisation session utilisateur",
      "description": "Implémenter le provider SupabaseProvider, exposer la session et le client via un contexte React, synchroniser la session côté client.",
      "notes": "Déjà réalisé.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "4dd5fde5-196c-45af-9ab0-fc3a9b9f5409"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "components/SupabaseProvider.tsx",
          "type": "TO_MODIFY",
          "description": "Provider React pour la session Supabase."
        }
      ],
      "implementationGuide": "Créer SupabaseProvider, utiliser useEffect pour synchroniser la session, exposer useSupabase hook.",
      "verificationCriteria": "Le provider fonctionne, la session est accessible partout."
    },
    {
      "id": "443ffc66-5ee3-45c2-be1c-569d087a2716",
      "name": "Connexion utilisateur (email/password, OAuth)",
      "description": "Permettre la connexion via email/password et Google/GitHub OAuth.",
      "notes": "Déjà réalisé.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "0d3b3238-221c-4d87-85d7-b54662eae03f"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/login/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de connexion utilisateur (email/password, OAuth)."
        }
      ],
      "implementationGuide": "Créer le formulaire de login, intégrer les endpoints OAuth, gérer les erreurs et feedback utilisateur.",
      "verificationCriteria": "L'utilisateur peut se connecter par email/password ou OAuth, feedback affiché."
    },
    {
      "id": "9f006cd4-17fd-4bea-8f37-79fc33da4955",
      "name": "Affichage des informations utilisateur et logout",
      "description": "Afficher les infos utilisateur sur /account, permettre la déconnexion.",
      "notes": "Déjà réalisé.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "443ffc66-5ee3-45c2-be1c-569d087a2716"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de compte utilisateur avec affichage des infos et logout."
        }
      ],
      "implementationGuide": "Utiliser useSupabase pour afficher l'email, bouton logout, feedback UI.",
      "verificationCriteria": "L'utilisateur voit ses infos et peut se déconnecter."
    },
    {
      "id": "50c1c3a3-0d6e-4e05-8b64-9ae1fc2c2ae6",
      "name": "Sécurisation des routes et redirection si non connecté",
      "description": "Protéger les pages sensibles (account, security, etc.) en redirigeant vers /login si l'utilisateur n'est pas connecté.",
      "notes": "Priorité sécurité.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "9f006cd4-17fd-4bea-8f37-79fc33da4955"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de compte à sécuriser par redirection si non connecté."
        }
      ],
      "implementationGuide": "Créer un HOC ou composant wrapper pour vérifier la session, rediriger si besoin.",
      "verificationCriteria": "Les pages sensibles ne sont accessibles qu'aux utilisateurs connectés."
    },
    {
      "id": "be63424c-cacf-4a99-91e9-02087495d256",
      "name": "Formulaire d'édition du profil utilisateur",
      "description": "Permettre à l'utilisateur de modifier son nom et son email depuis la page /account.",
      "notes": "UI/UX à soigner.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "50c1c3a3-0d6e-4e05-8b64-9ae1fc2c2ae6"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de compte avec formulaire d'édition du profil."
        }
      ],
      "implementationGuide": "Ajouter un formulaire d'édition, valider les champs, appeler l'API Supabase pour update.",
      "verificationCriteria": "L'utilisateur peut modifier son nom/email, feedback affiché."
    },
    {
      "id": "4d4a8650-c99a-4543-81d9-f379faa6084b",
      "name": "Suppression de compte utilisateur (API + UI)",
      "description": "Permettre à l'utilisateur de supprimer définitivement son compte depuis /account.",
      "notes": "Sécurité : confirmation requise.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "50c1c3a3-0d6e-4e05-8b64-9ae1fc2c2ae6"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de compte avec bouton de suppression de compte."
        }
      ],
      "implementationGuide": "Créer un bouton de suppression, confirmation, appeler l'API pour delete, gérer la déconnexion.",
      "verificationCriteria": "Le compte est supprimé, l'utilisateur est déconnecté, feedback affiché."
    },
    {
      "id": "821e3e7a-f17a-4872-b349-d9de0f63e341",
      "name": "Gestion des devices et sessions utilisateur",
      "description": "Afficher la liste des devices/sessions actives, permettre la révocation.",
      "notes": "Utiliser l'API Supabase si possible.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "50c1c3a3-0d6e-4e05-8b64-9ae1fc2c2ae6"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de compte avec gestion des devices et sessions."
        }
      ],
      "implementationGuide": "Créer une section sur /account, lister les sessions, bouton de révocation.",
      "verificationCriteria": "L'utilisateur voit ses sessions/devices et peut les révoquer."
    },
    {
      "id": "a14caf8e-8a16-4195-9147-44cc6522f0c2",
      "name": "Export GDPR des données utilisateur",
      "description": "Permettre à l'utilisateur de télécharger toutes ses données personnelles (profil, sessions, historique, etc.) au format JSON.",
      "notes": "Respect RGPD.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "50c1c3a3-0d6e-4e05-8b64-9ae1fc2c2ae6"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de compte avec export des données utilisateur."
        }
      ],
      "implementationGuide": "Créer un bouton d'export, générer le JSON, proposer le téléchargement.",
      "verificationCriteria": "L'utilisateur peut télécharger ses données au format JSON."
    },
    {
      "id": "c828786d-641a-4563-87b8-ff3cd2c9f19f",
      "name": "UI/UX avancée et feedback utilisateur",
      "description": "Améliorer l'expérience utilisateur avec des notifications, toasts, personnalisation UI, etc.",
      "notes": "Dernière étape, après les fonctionnalités principales.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "be63424c-cacf-4a99-91e9-02087495d256"
        },
        {
          "taskId": "4d4a8650-c99a-4543-81d9-f379faa6084b"
        },
        {
          "taskId": "821e3e7a-f17a-4872-b349-d9de0f63e341"
        },
        {
          "taskId": "a14caf8e-8a16-4195-9147-44cc6522f0c2"
        }
      ],
      "createdAt": "2025-07-09T02:21:00.203Z",
      "updatedAt": "2025-07-09T02:21:00.203Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Page de compte avec UI/UX avancée et feedback utilisateur."
        }
      ],
      "implementationGuide": "Intégrer un système de toasts, améliorer les feedbacks, personnaliser l'UI.",
      "verificationCriteria": "L'UI est moderne, feedback utilisateur clair, notifications fonctionnelles."
    },
    {
      "id": "04ffabfa-608d-4f24-9d86-7c8aea7918b9",
      "name": "API REST - Lister les sessions/devices utilisateur",
      "description": "Créer une route API Next.js /api/account/devices qui retourne la liste des sessions/devices actifs pour l'utilisateur courant (via Supabase ou table custom).",
      "status": "pending",
      "dependencies": [],
      "createdAt": "2025-07-09T13:21:31.238Z",
      "updatedAt": "2025-07-09T13:21:31.238Z",
      "relatedFiles": [
        {
          "path": "app/api/account/devices/route.ts",
          "type": "CREATE",
          "description": "Route API pour lister les devices/sessions utilisateur."
        }
      ],
      "implementationGuide": "Utiliser supabase.auth.admin.listSessionsByUser côté serverless, ou une table custom si besoin. Retourner id, device, date, user agent, etc.",
      "verificationCriteria": "L'API retourne la liste des sessions/devices pour l'utilisateur authentifié.",
      "analysisResult": "La solution est cohérente, modulaire, respecte l'architecture et les patterns du projet. Prévoir un hook custom pour la gestion des sessions/devices, et une abstraction pour le provider (Supabase/table custom). L'intégration UI/UX et sécurité est naturelle. Prêt pour la découpe en tâches concrètes."
    },
    {
      "id": "71e691cc-1312-4d1f-8b7f-8ca6d3200f3b",
      "name": "API REST - Révoquer une session/device utilisateur",
      "description": "Créer une route API Next.js /api/account/devices/revoke qui permet de révoquer une session/device (Supabase ou table custom).",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "04ffabfa-608d-4f24-9d86-7c8aea7918b9"
        }
      ],
      "createdAt": "2025-07-09T13:21:31.238Z",
      "updatedAt": "2025-07-09T13:21:31.238Z",
      "relatedFiles": [
        {
          "path": "app/api/account/devices/revoke/route.ts",
          "type": "CREATE",
          "description": "Route API pour révoquer une session/device utilisateur."
        }
      ],
      "implementationGuide": "Prendre en paramètre un sessionId/deviceId, vérifier l'ownership, révoquer la session côté Supabase ou table custom. Retourner succès/erreur.",
      "verificationCriteria": "L'utilisateur peut révoquer une session/device, la session disparaît de la liste.",
      "analysisResult": "La solution est cohérente, modulaire, respecte l'architecture et les patterns du projet. Prévoir un hook custom pour la gestion des sessions/devices, et une abstraction pour le provider (Supabase/table custom). L'intégration UI/UX et sécurité est naturelle. Prêt pour la découpe en tâches concrètes."
    },
    {
      "id": "de9113c9-23e9-46a5-95c9-e25e78d3e4ed",
      "name": "Hook custom - Gestion des sessions/devices côté client",
      "description": "Créer un hook React (useUserDevices) pour fetch la liste des sessions/devices et gérer la révocation.",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "04ffabfa-608d-4f24-9d86-7c8aea7918b9"
        },
        {
          "taskId": "71e691cc-1312-4d1f-8b7f-8ca6d3200f3b"
        }
      ],
      "createdAt": "2025-07-09T13:21:31.238Z",
      "updatedAt": "2025-07-09T13:21:31.238Z",
      "relatedFiles": [
        {
          "path": "components/hooks/useUserDevices.ts",
          "type": "CREATE",
          "description": "Hook React pour la gestion des devices/sessions utilisateur."
        }
      ],
      "implementationGuide": "Utiliser fetch sur les routes API, gérer loading, error, refresh, mutation locale.",
      "verificationCriteria": "Le hook expose la liste, loading, error, et une fonction de révocation.",
      "analysisResult": "La solution est cohérente, modulaire, respecte l'architecture et les patterns du projet. Prévoir un hook custom pour la gestion des sessions/devices, et une abstraction pour le provider (Supabase/table custom). L'intégration UI/UX et sécurité est naturelle. Prêt pour la découpe en tâches concrètes."
    },
    {
      "id": "7490e292-c3c3-4e20-8d30-025caef6bbe2",
      "name": "UI - Section gestion des devices/sessions sur /account",
      "description": "Ajouter une section sur /account (ou /account/security) listant les devices/sessions, avec bouton de révocation (sauf session courante).",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "de9113c9-23e9-46a5-95c9-e25e78d3e4ed"
        }
      ],
      "createdAt": "2025-07-09T13:21:31.238Z",
      "updatedAt": "2025-07-09T13:21:31.238Z",
      "relatedFiles": [
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Section UI pour la gestion des devices/sessions utilisateur."
        }
      ],
      "implementationGuide": "Utiliser le hook useUserDevices, afficher la liste, bouton Révoquer, feedback UX (toast, modal confirmation).",
      "verificationCriteria": "L'utilisateur voit ses sessions/devices et peut les révoquer, feedback UX visible.",
      "analysisResult": "La solution est cohérente, modulaire, respecte l'architecture et les patterns du projet. Prévoir un hook custom pour la gestion des sessions/devices, et une abstraction pour le provider (Supabase/table custom). L'intégration UI/UX et sécurité est naturelle. Prêt pour la découpe en tâches concrètes."
    },
    {
      "id": "d1cfca1a-211e-44ec-9131-56b7beffd576",
      "name": "Sécurité & feedback - Ownership, logout, UX",
      "description": "Sécuriser les routes API (ownership), forcer le logout si session courante révoquée, feedback UX (toast, modal).",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "71e691cc-1312-4d1f-8b7f-8ca6d3200f3b"
        },
        {
          "taskId": "7490e292-c3c3-4e20-8d30-025caef6bbe2"
        }
      ],
      "createdAt": "2025-07-09T13:21:31.238Z",
      "updatedAt": "2025-07-09T13:21:31.238Z",
      "relatedFiles": [
        {
          "path": "app/api/account/devices/revoke/route.ts",
          "type": "TO_MODIFY",
          "description": "Sécurisation et feedback de la révocation."
        },
        {
          "path": "app/account/page.tsx",
          "type": "TO_MODIFY",
          "description": "Gestion du logout et feedback UX."
        }
      ],
      "implementationGuide": "Vérifier l'ownership côté API, logout côté client si besoin, intégrer une librairie de toast (Sonner, Radix, etc.).",
      "verificationCriteria": "Impossible de révoquer une session d'un autre utilisateur, feedback UX moderne, logout si session courante révoquée.",
      "analysisResult": "La solution est cohérente, modulaire, respecte l'architecture et les patterns du projet. Prévoir un hook custom pour la gestion des sessions/devices, et une abstraction pour le provider (Supabase/table custom). L'intégration UI/UX et sécurité est naturelle. Prêt pour la découpe en tâches concrètes."
    }
  ]
}